{
  "version": "2.0.0",
  "tasks": [
    /* ===== 1. 直接用 clang++ 命令行（无 CMake）===== */
    {
      "label": "clang++ build current file",
      "type": "shell",
      "command": "clang++",
      "args": [
        "-std=c++20",
        "-g", "-O0", "-Wall", "-Wextra", "-Werror",
        // 关键：用 VS Code 变量 ${file} 指代“当前正在编辑的文件”
        "${file}",
        "-o",
        "${fileDirname}/${fileBasenameNoExtension}"
      ],
      "group": { "kind": "build", "isDefault": true },
      "presentation": { "echo": true, "reveal": "always", "panel": "shared" },
//      "problemMatcher": ["$gcc"]   // clang 兼容 gcc 错误格式
    },

    /* ===== 2. CMake + Ninja（可选）===== */
    // {
    //   "label": "cmake configure",
    //   "type": "shell",
    //   "command": "cmake",
    //   "args": [
    //     "-B", "${workspaceFolder}/build",
    //     "-G", "Ninja",
    //     "-DCMAKE_BUILD_TYPE=Debug",
    //     "-DCMAKE_EXPORT_COMPILE_COMMANDS=ON"
    //   ],
    //   "group": "build",
    //   "presentation": { "echo": true, "reveal": "silent" },
    //   "problemMatcher": []
    // },
    // {
    //   "label": "cmake build",
    //   "dependsOn": "cmake configure",
    //   "type": "shell",
    //   "command": "cmake",
    //   "args": ["--build", "${workspaceFolder}/build"],
    //   "group": { "kind": "build", "isDefault": true },
    //   "presentation": { "echo": true, "reveal": "always", "panel": "shared" },
    //   "problemMatcher": ["$gcc"]
    // }
  ]
}