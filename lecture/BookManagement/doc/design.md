# 图书管理系统设计文档

| 版本 | 日期 | 编写人 | 备注 |
| --- | --- | --- | --- |
| `V1.0` | `2025-12-25` | `Tristertian` |  |

## 1. 需求分析

### 1.1 项目背景

设计一个图书管理系统，用于管理书店图书的库存、销售和统计工作，支持文件的输入输出。

### 1.2 功能需求清单

| 功能模块 | 子功能 | 输入 | 处理逻辑 | 输出 |
| --- | --- | --- | --- | --- |
| **销售管理**  | 购买书籍 | ISBN号、购买数量 | 检查库存→扣减库存→计算金额 | 购买成功/失败提示、应付款 |
| **图书管理**  | 添加图书 | 图书完整信息 | ISBN唯一性检查→插入书库 | 成功/重复提示 |
|  | 查询图书 | 查询条件（书名/ISBN/作者/出版社） | 遍历匹配 | 图书详细信息或"未找到" |
|  | 修改图书 | ISBN号、新信息 | 查找→修改→唯一性检查 | 成功/失败提示 |
|  | 删除图书 | ISBN号 | 查找→删除 | 成功/失败提示 |
| **统计分析**  | 全库统计 | 无 | 统计所有图书总数及详细信息 | 按ISBN排序的完整书单 |
|  | 条件统计 | 排序条件（价格/库存/作者/出版社） | 排序算法 | 降序排列的统计结果 |
| **文件操作** | 保存数据 | 文件名 | 序列化图书数据到文件 | 文件写入成功提示 |
|  | 读取数据 | 文件名 | 反序列化文件数据到内存 | 数据加载成功提示 |

### 1.3 性能与安全需求

    ①ISBN号必须保证唯一性
    ②库存不足时禁止销售
    ③数据文件应支持反复读写，并且格式兼容

## 2. 系统设计

### 2.1 总体架构设计

采用面向对象设计，分为三层架构：

| 用户界面层 (main.cpp) |
| --- |
|（菜单显示、输入验证、结果展示）|
- - -
| 业务逻辑层 (BookManager) |
| --- |
| （销售、查询、统计等核心功能） |
- - -
| 数据管理层 (Book, FileUtil) |
| --- |
| （数据结构设计、文件读写） |

## 3. 类层次设计

### 3.1 核心类定义

📖 Book类

📚 BookManager类

💾 FileUtil工具类

### 3.2 类关系图

## 4. 关键算法

## 5. 文件存储格式设计

## 6. 用户界面

## 7. 预期问题与解决方案